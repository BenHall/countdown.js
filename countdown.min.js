/*global window *//**
 * @license countdown.js v2.3.4 http://countdownjs.org
 * Copyright (c)2006-2012 Stephen M. McKamey.
 * Licensed under The MIT License.
 *//*jshint bitwise:false *//**
 * @public
 * @type {Object|null}
 */var module,countdown=function(e){"use strict";function N(e,t){var n=e.getTime();return e.setUTCMonth(e.getUTCMonth()+t),Math.round((e.getTime()-n)/g)}function C(e){var t=e.getTime(),n=new Date(t);return n.setUTCMonth(e.getUTCMonth()+1),Math.round((n.getTime()-t)/g)}function k(e){var t=e.getTime(),n=new Date(t);return n.setUTCFullYear(e.getUTCFullYear()+1),Math.round((n.getTime()-t)/g)}function R(e,t){return e+" "+(e===1?I[t]:q[t])}function z(){}function W(e,t){switch(t){case"seconds":if(e.seconds!==d||isNaN(e.minutes))return;e.minutes++,e.seconds=0;case"minutes":if(e.minutes!==v||isNaN(e.hours))return;e.hours++,e.minutes=0;case"hours":if(e.hours!==m||isNaN(e.days))return;e.days++,e.hours=0;case"days":if(e.days!==y||isNaN(e.weeks))return;e.weeks++,e.days=0;case"weeks":if(e.weeks!==C(e.refMonth)/y||isNaN(e.months))return;e.months++,e.weeks=0;case"months":if(e.months!==b||isNaN(e.years))return;e.years++,e.months=0;case"years":if(e.years!==w||isNaN(e.decades))return;e.decades++,e.years=0;case"decades":if(e.decades!==E||isNaN(e.centuries))return;e.centuries++,e.decades=0;case"centuries":if(e.centuries!==S||isNaN(e.millennia))return;e.millennia++,e.centuries=0}}function X(e,t,n,r,i,s){return e[n]>=0&&(t+=e[n],delete e[n]),t/=i,t+1<=1?0:e[r]>=0?(e[r]=+(e[r]+t).toFixed(s),W(e,r),0):t}function V(e,t){var n=X(e,0,"milliseconds","seconds",p,t);if(!n)return;n=X(e,n,"seconds","minutes",d,t);if(!n)return;n=X(e,n,"minutes","hours",v,t);if(!n)return;n=X(e,n,"hours","days",m,t);if(!n)return;n=X(e,n,"days","weeks",y,t);if(!n)return;n=X(e,n,"weeks","months",C(e.refMonth)/y,t);if(!n)return;n=X(e,n,"months","years",k(e.refMonth)/C(e.refMonth),t);if(!n)return;n=X(e,n,"years","decades",w,t);if(!n)return;n=X(e,n,"decades","centuries",E,t);if(!n)return;n=X(e,n,"centuries","millennia",S,t);if(n)throw new Error("Fractional unit overflow")}function $(e){var t;e.milliseconds<0?(t=x(-e.milliseconds/p),e.seconds-=t,e.milliseconds+=t*p):e.milliseconds>=p&&(e.seconds+=T(e.milliseconds/p),e.milliseconds%=p),e.seconds<0?(t=x(-e.seconds/d),e.minutes-=t,e.seconds+=t*d):e.seconds>=d&&(e.minutes+=T(e.seconds/d),e.seconds%=d),e.minutes<0?(t=x(-e.minutes/v),e.hours-=t,e.minutes+=t*v):e.minutes>=v&&(e.hours+=T(e.minutes/v),e.minutes%=v),e.hours<0?(t=x(-e.hours/m),e.days-=t,e.hours+=t*m):e.hours>=m&&(e.days+=T(e.hours/m),e.hours%=m);while(e.days<0)e.months--,e.days+=N(e.refMonth,1);e.days>=y&&(e.weeks+=T(e.days/y),e.days%=y),e.months<0?(t=x(-e.months/b),e.years-=t,e.months+=t*b):e.months>=b&&(e.years+=T(e.months/b),e.months%=b),e.years>=w&&(e.decades+=T(e.years/w),e.years%=w,e.decades>=E&&(e.centuries+=T(e.decades/E),e.decades%=E,e.centuries>=S&&(e.millennia+=T(e.centuries/S),e.centuries%=S)))}function J(e,h,g,x){var C=0;!(h&c)||C>=g?(e.centuries+=e.millennia*S,delete e.millennia):e.millennia&&C++,!(h&l)||C>=g?(e.decades+=e.centuries*E,delete e.centuries):e.centuries&&C++,!(h&f)||C>=g?(e.years+=e.decades*w,delete e.decades):e.decades&&C++,!(h&a)||C>=g?(e.months+=e.years*b,delete e.years):e.years&&C++,!(h&u)||C>=g?(e.months&&(e.days+=N(e.refMonth,e.months)),delete e.months,e.days>=y&&(e.weeks+=T(e.days/y),e.days%=y)):e.months&&C++,!(h&o)||C>=g?(e.days+=e.weeks*y,delete e.weeks):e.weeks&&C++,!(h&s)||C>=g?(e.hours+=e.days*m,delete e.days):e.days&&C++,!(h&i)||C>=g?(e.minutes+=e.hours*v,delete e.hours):e.hours&&C++,!(h&r)||C>=g?(e.seconds+=e.minutes*d,delete e.minutes):e.minutes&&C++,!(h&n)||C>=g?(e.milliseconds+=e.seconds*p,delete e.seconds):e.seconds&&C++,(!(h&t)||C>=g)&&V(e,x)}function K(e,t,n,r,i,s){e.start=t,e.end=n,e.units=r,e.value=n.getTime()-t.getTime();if(e.value<0){var o=n;n=t,t=o}e.refMonth=new Date(t.getFullYear(),t.getMonth(),15);try{e.millennia=0,e.centuries=0,e.decades=0,e.years=n.getUTCFullYear()-t.getUTCFullYear(),e.months=n.getUTCMonth()-t.getUTCMonth(),e.weeks=0,e.days=n.getUTCDate()-t.getUTCDate(),e.hours=n.getUTCHours()-t.getUTCHours(),e.minutes=n.getUTCMinutes()-t.getUTCMinutes(),e.seconds=n.getUTCSeconds()-t.getUTCSeconds(),e.milliseconds=n.getUTCMilliseconds()-t.getUTCMilliseconds(),$(e),J(e,r,i,s)}finally{delete e.refMonth}return e}function Q(e){return e&t?p/30:e&n?p:e&r?p*d:e&i?p*d*v:e&s?p*d*v*m:p*d*v*m*y}function G(e,t,n,r,i){var s;n=+n||h,r=r>0?r:NaN,i=i>0?i<20?Math.round(i):20:0,"function"==typeof e?(s=e,e=null):e instanceof Date||(e=e!==null&&isFinite(e)?new Date(e):null),"function"==typeof t?(s=t,t=null):t instanceof Date||(t=t!==null&&isFinite(t)?new Date(t):null);if(!e&&!t)return new z;if(!s)return K(new z,e||new Date,t||new Date,n,r,i);var o=Q(n),u,a=function(){s(K(new z,e||new Date,t||new Date,n,r,i),u)};return a(),u=setInterval(a,o)}var t=1,n=2,r=4,i=8,s=16,o=32,u=64,a=128,f=256,l=512,c=1024,h=a|u|s|i|r|n,p=1e3,d=60,v=60,m=24,g=m*v*d*p,y=7,b=12,w=10,E=10,S=10,x=Math.ceil,T=Math.floor,L=0,A=1,O=2,M=3,_=4,D=5,P=6,H=7,B=8,j=9,F=10,I,q,U;z.prototype.toString=function(){var e=U(this),t=e.length;return t?(t>1&&(e[t-1]="and "+e[t-1]),e.join(", ")):""},z.prototype.toHTML=function(e){e=e||"span";var t=U(this),n=t.length;if(!n)return"";for(var r=0;r<n;r++)t[r]="<"+e+">"+t[r]+"</"+e+">";return--n&&(t[n]="and "+t[n]),t.join(", ")},U=function(e){var t=[],n=e.millennia;return n&&t.push(R(n,F)),n=e.centuries,n&&t.push(R(n,j)),n=e.decades,n&&t.push(R(n,B)),n=e.years,n&&t.push(R(n,H)),n=e.months,n&&t.push(R(n,P)),n=e.weeks,n&&t.push(R(n,D)),n=e.days,n&&t.push(R(n,_)),n=e.hours,n&&t.push(R(n,M)),n=e.minutes,n&&t.push(R(n,O)),n=e.seconds,n&&t.push(R(n,A)),n=e.milliseconds,n&&t.push(R(n,L)),t},G.MILLISECONDS=t,G.SECONDS=n,G.MINUTES=r,G.HOURS=i,G.DAYS=s,G.WEEKS=o,G.MONTHS=u,G.YEARS=a,G.DECADES=f,G.CENTURIES=l,G.MILLENNIA=c,G.DEFAULTS=h,G.ALL=c|l|f|a|u|o|s|i|r|n|t;var Y=G.setLabels=function(e,t){e=e||[],e.split&&(e=e.split("|")),t=t||[],t.split&&(t=t.split("|"));for(var n=L;n<=F;n++)I[n]=e[n]||I[n],q[n]=t[n]||q[n]},Z=G.resetLabels=function(){I="millisecond|second|minute|hour|day|week|month|year|decade|century|millennium".split("|"),q="milliseconds|seconds|minutes|hours|days|weeks|months|years|decades|centuries|millennia".split("|")};return Z(),e&&e.exports?e.exports=G:typeof window.define=="function"&&window.define.amd&&window.define("countdown",[],function(){return G}),G}(module);